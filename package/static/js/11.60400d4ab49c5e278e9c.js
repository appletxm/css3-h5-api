(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/XPQ":function(e,t){},EVMz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=d(a("14Xm")),r=d(a("D3Ub")),i=d(a("Yz+Y")),n=d(a("iCc5")),o=d(a("V7oC")),u=d(a("FYw3")),l=d(a("mRg0")),c=d(a("miVM"));function d(e){return e&&e.__esModule?e:{default:e}}var p,m,f,b,h,v,g,w=(p=c.default,(0,l.default)(C,p),(0,o.default)(C,[{key:"getByCodeTypeNum",value:(g=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("get",this.path+"/code/getByCodeTypeNum",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"getSubjectList",value:(v=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("get",this.path+"/code/getSubjectList",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getSegmentList",value:(h=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("get",this.path+"/segment/list",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getGradeList",value:(b=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("get",this.path+"/grade/list",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"getSchoolGradeList",value:(f=(0,r.default)(s.default.mark(function e(t,a){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("get",this.path+"/grade/schoolGradeList",t,a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"getCodeList",value:(m=(0,r.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.submit("post",this.path+"/sysCode/list",t,{dataType:"form"});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})}]),C);function C(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,C),(0,u.default)(this,(C.__proto__||(0,i.default)(C)).call(this,"/aep/eduplat-api-service",e))}t.default=w},Mmgh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s,i,n=m(a("QbLZ")),o=m(a("14Xm")),u=m(a("D3Ub")),l=m(a("Ulge")),c=m(a("FJnT")),d=m(a("MPzd")),p=m(a("EVMz"));function m(e){return e&&e.__esModule?e:{default:e}}t.default={name:"register",components:{imageCode:c.default},data:function(){var r=this;return{IDTypeOptions:[],idCardTypeObj:{},basicForm:{username:"",password:"",truename:"",idCardType:"",idCardTypeCode:"",idCardNum:"",phoneNum:"",verificationCode:""},showPassword:!1,rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"请输入8-16位密码",trigger:"blur"}],phoneNum:[{required:!0,message:"请输入手机号",trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"}],idCardNum:[{validator:function(e,t,a){return!t||"SFZJLX"!==r.idCardTypeObj.codeTypeNum||"1"!==r.idCardTypeObj.codeNum||/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(t)?a():a(new Error("请输入正确的身份证号码"))},trigger:"blur"}]},dialogVisible:!1,totalTime:60,btnContent:""}},methods:{goBack:function(){this.$router.push({name:"auth.login"})},getVerificationCode:(i=(0,u.default)(o.default.mark(function e(t){var a,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={phoneNum:this.basicForm.phoneNum,imgCode:t},e.next=3,(new d.default).getRegisterVerificationCode(a);case 3:r=e.sent,this.dialogVisible=!1,r.fail||(this.$message.success(r.retDesc),this.countDown());case 6:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),countDown:function(){var e=this,t=window.setInterval(function(){--e.totalTime,e.btnContent=e.totalTime+"s后需重新获取",e.totalTime<0&&(window.clearInterval(t),e.btnContent="",e.totalTime=60)},1e3)},closeDialog:function(){this.dialogVisible=!1},submit:(s=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,n.default)({},this.basicForm)).idCardType=this.idCardTypeObj.codeName,t.idCardTypeCode=this.idCardTypeObj.codeNum,t.password=l.default.encrypt(t.password),e.next=6,(new d.default).publicRegister(t);case 6:e.sent.fail||(this.$message.success({message:"注册成功",duration:1e3}),this.goBack());case 8:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)}),getIdCardTypeList:(r=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new p.default).getByCodeTypeNum({codeTypeNum:"SFZJLX"});case 2:(t=e.sent).fail||(this.IDTypeOptions=t.data||[]);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},created:function(){this.getIdCardTypeList()}}},bXUx:function(e,t,a){"use strict";a.r(t);var r=a("Mmgh"),s=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var n=a("nMmQ"),o=a("JFUb");function u(e){a("/XPQ")}var l=Object(o.a)(s.a,n.a,n.b,!1,u,null,null);t.default=l.exports},nMmQ:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register-page"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"title"},[a("span",[t._v("公众注册")]),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:t.goBack}})]),t._v(" "),a("el-form",{ref:"basicForm",attrs:{model:t.basicForm,rules:t.rules,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{prop:"username",label:"账号"}},[a("el-input",{attrs:{placeholder:"请输入账号",clearable:"",autocomplete:"off",name:"resUsername"},model:{value:t.basicForm.username,callback:function(e){t.$set(t.basicForm,"username",e)},expression:"basicForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:t.showPassword?"text":"password",autocomplete:"off",name:"resPwd"},model:{value:t.basicForm.password,callback:function(e){t.$set(t.basicForm,"password",e)},expression:"basicForm.password"}},[a("i",{staticClass:"el-input__icon el-icon-view",attrs:{slot:"suffix"},on:{click:function(e){t.showPassword=!t.showPassword}},slot:"suffix"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:t.basicForm.truename,callback:function(e){t.$set(t.basicForm,"truename",e)},expression:"basicForm.truename"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-select",{attrs:{placeholder:"请选择证件类型","value-key":"codeNum"},model:{value:t.idCardTypeObj,callback:function(e){t.idCardTypeObj=e},expression:"idCardTypeObj"}},t._l(t.IDTypeOptions,function(e){return a("el-option",{key:e.codeNum,attrs:{label:e.codeName,value:e}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"证件号",prop:"idCardNum"}},[a("el-input",{attrs:{placeholder:"请输入证件号码",clearable:""},model:{value:t.basicForm.idCardNum,callback:function(e){t.$set(t.basicForm,"idCardNum",e)},expression:"basicForm.idCardNum"}})],1),t._v(" "),a("el-form-item",{staticClass:"phone-item",attrs:{label:"手机号",prop:"phoneNum"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:""},model:{value:t.basicForm.phoneNum,callback:function(e){t.$set(t.basicForm,"phoneNum",e)},expression:"basicForm.phoneNum"}},[a("template",{slot:"prepend"},[t._v("+86")])],2),t._v(" "),t.btnContent?a("el-button",{attrs:{disabled:""}},[t._v(t._s(t.btnContent))]):a("el-button",{attrs:{disabled:!t.basicForm.phoneNum},on:{click:function(e){t.dialogVisible=!0}}},[t._v("获取验证码")])],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"verificationCode"}},[a("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:t.basicForm.verificationCode,callback:function(e){t.$set(t.basicForm,"verificationCode",e)},expression:"basicForm.verificationCode"}})],1)],1),t._v(" "),a("div",{staticClass:"action-box"},[t._m(0),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!(this.basicForm.username&&this.basicForm.password&&this.basicForm.phoneNum&&this.basicForm.verificationCode)},on:{click:t.submit}},[t._v("注册")])],1)],1),t._v(" "),a("image-code",{attrs:{dialogVisible:t.dialogVisible,num:t.basicForm.phoneNum},on:{close:t.closeDialog,getImageCode:t.getVerificationCode}})],1)},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._v("\n        已注册，\n        "),t("a",{staticClass:"login-text",attrs:{href:""}},[this._v("立即登录")])])}]}}]);