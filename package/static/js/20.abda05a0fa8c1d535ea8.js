(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+8OD":function(t,e){},"8dXT":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i,n=l(s("14Xm")),d=l(s("P2sY")),r=l(s("D3Ub")),o=l(s("MQ60")),c=l(s("ugEK")),u=l(s("SdNB"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"page",components:{Draggable:o.default,noRecord:c.default},data:function(){return{userExtInfo:this.$store.state.auth.org,loading:!1,dragging:!1,addedList:[],notAddList:[]}},methods:{dataDragEnd:function(){this.addedList.forEach(function(t,e){t.sort=e+1}),this.saveUserTab()},addPage:function(t){t.sort=this.addedList.length+1,this.saveUserTab()},deletePage:function(t,e){this.addedList.splice(e,1),this.addedList.forEach(function(t,e){t.sort=e+1}),this.notAddList.push({tabName:t.tabName,id:t.id,sort:0}),this.saveUserTab()},saveUserTab:(i=(0,r.default)(n.default.mark(function t(){var e,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e={userType:this.userExtInfo.userType,tabItems:this.addedList.concat(this.notAddList)},t.prev=2,t.next=5,(new u.default).saveUserTab(e);case 5:s=t.sent,this.loading=!1,s.fail?this.$message.error(s.retDesc):(this.$store.dispatch("layout/set",(0,d.default)(this.$store.state.page,{isChange:!0})),this.getUsedTabList(),this.$message.success({message:s.retDesc,duration:1e3})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])})),function(){return i.apply(this,arguments)}),getUsedTabList:(a=(0,r.default)(n.default.mark(function t(){var e,s=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,(new u.default).getUsedTab({userType:this.userExtInfo.userType});case 3:e=t.sent,this.loading=!1,this.addedList=[],this.notAddList=[],e.fail?this.$message.error(e.retDesc):(e.data.forEach(function(t){t.sort?s.addedList.push(t):s.notAddList.push(t)}),this.addedList.sort(this.compare("sort")));case 8:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),compare:function(s){return function(t,e){return t[s]-e[s]}}},created:function(){this.getUsedTabList()},beforeDestroy:function(){this.$store.dispatch("layout/set",(0,d.default)(this.$store.state.page,{isChange:!1}))}}},S7DR:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i});var a=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"my-center-page"},[i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[a._v("已添加")]),a._v(" "),0<a.addedList.length?[i("div",[i("draggable",{staticClass:"card-box",attrs:{"ghost-class":"ghost",list:a.addedList},on:{update:a.dataDragEnd}},a._l(a.addedList,function(e,s){return i("div",{key:s,staticClass:"item-box added-box"},[i("div",{staticClass:"remark"},[i("div",[i("span",[a._v(a._s(e.sort))]),a._v(" "),i("span",[a._v(a._s(e.tabName))])]),a._v(" "),i("div",[i("el-button",{attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(t){return a.deletePage(e,s)}}})],1)])])}),0)],1)]:i("no-record")],2),a._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[a._v("未添加")]),a._v(" "),i("div",{staticClass:"card-box"},[0<a.notAddList.length?a._l(a.notAddList,function(e,t){return i("div",{key:t,staticClass:"item-box"},[i("div",{staticClass:"remark"},[i("span",[a._v(a._s(e.tabName))]),a._v(" "),i("div",[i("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(t){return a.addPage(e)}}},[a._v("添加")])],1)])])}):i("no-record")],2)])])},i=[]},wtGB:function(t,e,s){"use strict";s.r(e);var a=s("8dXT"),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);var d=s("S7DR"),r=s("JFUb");function o(t){s("+8OD")}var c=Object(r.a)(i.a,d.a,d.b,!1,o,null,null);e.default=c.exports}}]);